

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>fedcloudclient API references &mdash; fedcloudclient  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ and Troubleshooting" href="FAQ.html" />
    <link rel="prev" title="Using fedcloud client for development" href="development.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> fedcloudclient
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Using fedcloudclient as command-line client</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Using fedcloud client for development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">fedcloudclient API references</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.checkin">fedcloudclient.checkin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.endpoint">fedcloudclient.endpoint module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.sites">fedcloudclient.sites module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.openstack">fedcloudclient.openstack module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-fedcloudclient.cli">fedcloudclient.cli module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ and Troubleshooting</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fedcloudclient</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>fedcloudclient API references</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/fedcloudclient.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fedcloudclient-api-references">
<h1>fedcloudclient API references<a class="headerlink" href="#fedcloudclient-api-references" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-fedcloudclient.checkin">
<span id="fedcloudclient-checkin-module"></span><h2>fedcloudclient.checkin module<a class="headerlink" href="#module-fedcloudclient.checkin" title="Permalink to this headline">¶</a></h2>
<p>Implementation of &quot;fedcloud token&quot; commands for interactions with EGI Check-in and
access tokens</p>
<dl class="py function">
<dt id="fedcloudclient.checkin.get_access_token">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></code><code class="sig-name descname"><span class="pre">get_access_token</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_refresh_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_client_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_client_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_agent_account</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#get_access_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.get_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting access token.
Generate new access token from oidc-agent or refresh token (if given)
or use existing token</p>
<p>Check expiration time of access token
Raise error if no valid token exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- </p></li>
<li><p><strong>oidc_refresh_token</strong> -- </p></li>
<li><p><strong>oidc_client_id</strong> -- </p></li>
<li><p><strong>oidc_client_secret</strong> -- </p></li>
<li><p><strong>oidc_url</strong> -- </p></li>
<li><p><strong>oidc_agent_account</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>access token</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.checkin.oidc_discover">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></code><code class="sig-name descname"><span class="pre">oidc_discover</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#oidc_discover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.oidc_discover" title="Permalink to this definition">¶</a></dt>
<dd><p>Discover oidc endpoints</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>oidc_url</strong> -- CheckIn URL</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON object of OIDC configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.checkin.refresh_access_token">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></code><code class="sig-name descname"><span class="pre">refresh_access_token</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_client_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_client_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_refresh_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#refresh_access_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.refresh_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve access token in plain text (string)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_client_id</strong> -- </p></li>
<li><p><strong>oidc_client_secret</strong> -- </p></li>
<li><p><strong>oidc_refresh_token</strong> -- </p></li>
<li><p><strong>oidc_url</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>access token</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.checkin.token_list_vos">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></code><code class="sig-name descname"><span class="pre">token_list_vos</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#token_list_vos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.token_list_vos" title="Permalink to this definition">¶</a></dt>
<dd><p>List VO memberships in EGI Check-in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- </p></li>
<li><p><strong>oidc_url</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of VO names</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.checkin.token_refresh">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.checkin.</span></code><code class="sig-name descname"><span class="pre">token_refresh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_client_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_client_secret</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_refresh_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oidc_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/checkin.html#token_refresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.checkin.token_refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for retrieving JSON object with access token</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_client_id</strong> -- </p></li>
<li><p><strong>oidc_client_secret</strong> -- </p></li>
<li><p><strong>oidc_refresh_token</strong> -- </p></li>
<li><p><strong>oidc_url</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>JSON object with access token</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-fedcloudclient.endpoint">
<span id="fedcloudclient-endpoint-module"></span><h2>fedcloudclient.endpoint module<a class="headerlink" href="#module-fedcloudclient.endpoint" title="Permalink to this headline">¶</a></h2>
<p>&quot;fedcloud endpoint&quot; commands are complementary part of the &quot;fedcloud site&quot; commands.</p>
<p>Instead of using site configurations defined in files saved in GitHub repository or
local disk, the commands try to get site information directly from GOCDB
(Grid Operations Configuration Management Database) <a class="reference external" href="https://goc.egi.eu/">https://goc.egi.eu/</a> or make probe
test on sites</p>
<dl class="py function">
<dt id="fedcloudclient.endpoint.find_endpoint">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">find_endpoint</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">service_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">production</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitored</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#find_endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.find_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Searching GOCDB for endpoints according to service types and status</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_type</strong> -- </p></li>
<li><p><strong>production</strong> -- </p></li>
<li><p><strong>monitored</strong> -- </p></li>
<li><p><strong>site</strong> -- list of sites, None for searching all sites</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of endpoints</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_keystone_url">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_keystone_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_keystone_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_keystone_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for fixing keystone URL</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_project_id_from_vo_site">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_project_id_from_vo_site</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_project_id_from_vo_site"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_project_id_from_vo_site" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated in favor of new functions in sites.py</p>
<p>Get project ID from site ID and VO name</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_projects">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_projects</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unscoped_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of projects from unscoped token</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_projects_from_sites">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_projects_from_sites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_projects_from_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_projects_from_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all projects from sites using access token</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_scoped_token">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_scoped_token</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_scoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_scoped_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a scoped token, trying various protocol names if needed</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_sites">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_sites</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of sites (using GOCDB instead of site configuration)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of site IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.get_unscoped_token">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">get_unscoped_token</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#get_unscoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.get_unscoped_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an unscoped token, trying various protocol names if needed</p>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.endpoint.retrieve_unscoped_token">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.endpoint.</span></code><code class="sig-name descname"><span class="pre">retrieve_unscoped_token</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">os_auth_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'openid'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/endpoint.html#retrieve_unscoped_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.endpoint.retrieve_unscoped_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Request an unscoped token</p>
</dd></dl>

</div>
<div class="section" id="module-fedcloudclient.sites">
<span id="fedcloudclient-sites-module"></span><h2>fedcloudclient.sites module<a class="headerlink" href="#module-fedcloudclient.sites" title="Permalink to this headline">¶</a></h2>
<p>&quot;fedcloud site&quot; commands will read site configurations and manipulate with them. If
the local site configurations exist at ~/.config/fedcloud/site-config/, fedcloud will
read them from there, otherwise the commands will read from GitHub repository.</p>
<p>By default, fedcloud does not save anything on local disk, users have to save the
site configuration to local disk explicitly via &quot;fedcloud site save-config&quot; command.
The advantage of having local site configurations, beside faster loading, is to give
users ability to make customizations, e.g. add additional VOs, remove sites they
do not have access, and so on.</p>
<dl class="py function">
<dt id="fedcloudclient.sites.find_endpoint_and_project_id">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">find_endpoint_and_project_id</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#find_endpoint_and_project_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.find_endpoint_and_project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Keystone endpoint and project ID from site name and VO according
to site configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site_name</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name. None if finding only site endpoint</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>endpoint, project_id, protocol if the VO exist on the site,
otherwise None, None, None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.find_site_data">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">find_site_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#find_site_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.find_site_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return configuration of the correspondent site with site_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>site_name</strong> -- site ID in GOCDB</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>configuration of site if found, otherwise None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.list_sites">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">list_sites</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#list_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.list_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all sites IDs in site configurations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of site IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.read_default_site_config">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">read_default_site_config</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_default_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_default_site_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Read default site configurations from GitHub.  Storing
site configurations in a global variable, that will be used by other functions</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.read_local_site_config">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">read_local_site_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_local_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_local_site_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Read site configurations from local directory specified in config_dir. Storing
site configurations in global variable, that will be used by other functions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_dir</strong> -- path to directory containing site configuration</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.read_site_config">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">read_site_config</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_site_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Read site configurations from local config dir if exist, otherwise from default
GitHub location. Storing site configurations in global variable, that will be
used by other functions. Call read_local_site_config()
or read_default_site_config()</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.read_site_schema">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">read_site_schema</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#read_site_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.read_site_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Read schema.json for validating site configuration</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON object from schema.json</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.safe_read_yaml_from_url">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">safe_read_yaml_from_url</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#safe_read_yaml_from_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.safe_read_yaml_from_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Safe reading from URL. Check URL and size before reading</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> -- </p></li>
<li><p><strong>max_length</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data from URL</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.sites.save_site_config">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.sites.</span></code><code class="sig-name descname"><span class="pre">save_site_config</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/sites.html#save_site_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.sites.save_site_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Save site configs to local directory specified in config_dir.
Overwrite local configs if exist</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config_dir</strong> -- path to directory containing site configuration</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-fedcloudclient.openstack">
<span id="fedcloudclient-openstack-module"></span><h2>fedcloudclient.openstack module<a class="headerlink" href="#module-fedcloudclient.openstack" title="Permalink to this headline">¶</a></h2>
<p>Implementation of &quot;fedcloud openstack&quot; or &quot;fedcloud openstack-int&quot; for performing
Openstack commands on sites</p>
<dl class="py function">
<dt id="fedcloudclient.openstack.check_openstack_client_installation">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></code><code class="sig-name descname"><span class="pre">check_openstack_client_installation</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#check_openstack_client_installation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.check_openstack_client_installation" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if openstack command-line client is installed and available via $PATH</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if available</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.openstack.fedcloud_openstack">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></code><code class="sig-name descname"><span class="pre">fedcloud_openstack</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#fedcloud_openstack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.fedcloud_openstack" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplified version of fedcloud_openstack_full() function using
default EGI setting for identity provider and protocols
Call openstack client with default options for EGI Check-in</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- Checkin access token.
Passed to openstack client as --os-access-token</p></li>
<li><p><strong>site</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name</p></li>
<li><p><strong>openstack_command</strong> -- Openstack command in tuple,
e.g. (&quot;image&quot;, &quot;list&quot;, &quot;--long&quot;)</p></li>
<li><p><strong>json_output</strong> -- if result is JSON object or string. Default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error code, result or error message</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.openstack.fedcloud_openstack_full">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></code><code class="sig-name descname"><span class="pre">fedcloud_openstack_full</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oidc_access_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_auth_protocol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_auth_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkin_identity_provider</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">openstack_command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#fedcloud_openstack_full"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.fedcloud_openstack_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Calling openstack client with full options specified, including support
for other identity providers and protocols</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>oidc_access_token</strong> -- Checkin access token. Passed to openstack client
as --os-access-token</p></li>
<li><p><strong>openstack_auth_protocol</strong> -- Checkin protocol (openid, oidc). Passed to
openstack client as --os-protocol</p></li>
<li><p><strong>openstack_auth_type</strong> -- Checkin authentication type (v3oidcaccesstoken).
Passed to openstack client as --os-auth-type</p></li>
<li><p><strong>checkin_identity_provider</strong> -- Checkin identity provider in mapping (egi.eu).
Passed to openstack client as --os-identity-provider</p></li>
<li><p><strong>site</strong> -- site ID in GOCDB</p></li>
<li><p><strong>vo</strong> -- VO name</p></li>
<li><p><strong>openstack_command</strong> -- Openstack command in tuple,
e.g. (&quot;image&quot;, &quot;list&quot;, &quot;--long&quot;)</p></li>
<li><p><strong>json_output</strong> -- if result is JSON object or string. Default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>error code, result or error message</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="fedcloudclient.openstack.print_result">
<code class="sig-prename descclassname"><span class="pre">fedcloudclient.openstack.</span></code><code class="sig-name descname"><span class="pre">print_result</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_output</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_missing_vo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fedcloudclient/openstack.html#print_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fedcloudclient.openstack.print_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Print output from an Openstack command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site</strong> -- </p></li>
<li><p><strong>vo</strong> -- </p></li>
<li><p><strong>command</strong> -- </p></li>
<li><p><strong>exc_msg</strong> -- </p></li>
<li><p><strong>error_code</strong> -- </p></li>
<li><p><strong>result</strong> -- </p></li>
<li><p><strong>json_output</strong> -- </p></li>
<li><p><strong>ignore_missing_vo</strong> -- </p></li>
<li><p><strong>first</strong> -- </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-fedcloudclient.cli">
<span id="fedcloudclient-cli-module"></span><h2>fedcloudclient.cli module<a class="headerlink" href="#module-fedcloudclient.cli" title="Permalink to this headline">¶</a></h2>
<p>Main CLI module</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="FAQ.html" class="btn btn-neutral float-right" title="FAQ and Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="development.html" class="btn btn-neutral float-left" title="Using fedcloud client for development" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Viet Tran.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>